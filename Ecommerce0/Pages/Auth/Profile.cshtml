@page
@model Ecommerce0.Pages.Auth.ProfileModel
@{
}
<section style="background-color: #eee;">
    <div class="container py-5">        
        <div class="row">
            <div class="col-lg-4">
                <div class="card mb-4">
                    <div class="card-body text-center">
                        @if (Model.CurrUser.AvatarPath != null)
                        {
                            <img src="@Model.CurrUser.AvatarPath" alt="avatar" class="rounded-circle img-fluid" style="width: 150px;">
                        }
                        else
                        {
                            <img src="~/assets/img/default-profile.png" alt="avatar" class="rounded-circle img-fluid" style="width: 150px;">
                        }
                        <h5 class="my-3">John Smith</h5>
                        <p class="text-muted mb-1">Full Stack Developer</p>
                        <p class="text-muted mb-4">Bay Area, San Francisco, CA</p>
                        <div class="d-flex justify-content-center mb-2">
                            <button id="myBtnEditProfile" type="button" class="btn border-0 btn-outline-primary rounded-circle"><i class="fa fa-pencil" aria-hidden="true"></i></button>
                            <a href="/me/index" class="btn border-0 btn-outline-primary rounded-circle"><i class="fas fa-house-user"></i></a>
                        </div>
                    </div>
                </div>                
            </div>
            <div class="col-lg-8">
                <div class="card mb-4">
                    <form method="post" asp-route-Id="@Model.CurrUser.Id">
                        <div class="card-body">
                            <div class="row form-group">
                                <div class="col-sm-3">
                                    <p class="mb-0">Full Name</p>
                                </div>
                                <div class="col-sm-9">
                                    <input type="text" asp-for="@Model.CurrUser.UserName" class="text-muted form-control" readonly="readonly"/>
                                </div>
                            </div>
                            <hr>
                            <div class="row form-group">
                                <div class="col-sm-3">
                                    <p class="mb-0">Email</p>
                                </div>
                                <div class="col-sm-9">
                                    <input type="email" asp-for="@Model.CurrUser.Email" class="text-muted form-control" readonly="readonly" />
                                </div>
                            </div> 
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <p class="mb-0">Phone</p>
                                </div>
                                <div class="col-sm-9">
                                    <input type="tel" asp-for="@Model.CurrUser.PhoneNumber" class="text-muted form-control" readonly="readonly" pattern="[0][0-9]{3}[0-9]{3}[0-9]{3}"/>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <p class="mb-0">Password</p>
                                </div>
                                <div class="col-sm-9">
                                    @*Do co type nen da validate truowc khi form duoc gui toi OnPost*@
                                    <input type="password" asp-for="@Model.CurrUser.PasswordHash" class="text-muted form-control" readonly="readonly" />
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <p class="mb-0">Address</p>
                                </div>
                                <div class="col-sm-9">
                                    <p class="text-muted mb-0">Unknow, remain secret</p>
                                </div>
                            </div>
                        </div>    
                        
                        <div class="card-footer d-flex justify-content-center mb-2">
                            <button id="myProfileSubmitBtn" type="submit" class="btn btn-outline-success">Submit</button>
                        </div>
                    </form>
                </div>    
                <div class="card mb-4 mb-lg-0">
                    <div class="card-body p-0">
                        <ul class="list-group list-group-flush rounded-3">
                            <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                                <i class="fas fa-globe fa-lg text-warning"></i>
                                <p class="mb-0">https://mdbootstrap.com</p>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                                <i class="fab fa-github fa-lg" style="color: #333333;"></i>
                                <p class="mb-0">mdbootstrap</p>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                                <i class="fab fa-twitter fa-lg" style="color: #55acee;"></i>
                                <p class="mb-0">@@mdbootstrap</p>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                                <i class="fab fa-instagram fa-lg" style="color: #ac2bac;"></i>
                                <p class="mb-0">mdbootstrap</p>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                                <i class="fab fa-facebook-f fa-lg" style="color: #3b5998;"></i>
                                <p class="mb-0">mdbootstrap</p>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        $(document).ready(function () {
            $("#myProfileSubmitBtn").hide();
        });

        let myEditProfileBtn = document.getElementById("myBtnEditProfile");
        myEditProfileBtn.addEventListener("click", function () {
            let inputs = document.querySelectorAll("input.text-muted");
            console.log(inputs);
            for (var i = 0; i < inputs.length - 1; i++) {
                if (inputs[i].readOnly === true) {
                    inputs[i].readOnly = false;
                    $("#myProfileSubmitBtn").show();
                }
                else {
                    inputs[i].readOnly = true;
                    $("#myProfileSubmitBtn").hide();
                }
            }
        });
    </script>
}
